pipeline {
    /* Define dónde se ejecutará el pipeline. 'any' significa cualquier agente disponible */
    agent any 

    stages {
        /* Los stages dividen el proceso en fases lógicas (Build, Test, Deploy) */
        stage('Bienvenida') {
            steps {
                echo '¡Hola Mundo desde Jenkins!'
                sh 'java -version' // Muestra la versión de Java instalada
            }
        }

        stage('Información del Sistema') {
            steps {
                echo 'Estamos ejecutando este Job en el nodo:'
                // Los comandos de shell se ejecutan con 'sh' en Linux o 'bat' en Windows
                sh 'hostname' 
            }
        }

        stage('Finalización') {
            steps {
                echo 'Pipeline finalizado con éxito.'
            }
        }
    }
    
    /* El bloque post define acciones según el resultado del pipeline */
    post {
        always {
            echo 'Limpiando el espacio de trabajo...'
        }
        success {
            echo 'El despliegue fue exitoso.'
        }
    }
}
